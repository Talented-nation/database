<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„Ù…Ø­Ù‚Ù‚ Ø§Ù„Ø¹Ù„Ù…ÙŠ - Ù„Ø¹Ø¨Ø© ØªØ¹Ù„ÙŠÙ…ÙŠØ©</title>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap');
        
        body {
            font-family: 'Tajawal', sans-serif;
        }

        @keyframes bounce-short {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }
        .animate-bounce-short {
            animation: bounce-short 1s infinite;
        }
        .heart-beat {
            animation: beat 0.5s infinite alternate;
        }
        @keyframes beat {
            to { transform: scale(1.1); }
        }
    </style>
</head>
<body class="bg-slate-50">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- Icons Components (SVG) ---
        const Play = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polygon points="5 3 19 12 5 21 5 3"/></svg>;
        const Trophy = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"/><path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"/><path d="M4 22h16"/><path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"/><path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"/><path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"/></svg>;
        const Brain = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 4.44-4Z"/><path d="M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-4.44-4Z"/></svg>;
        const FlaskConical = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2"/><path d="M8.5 2h7"/><path d="M7 16h10"/></svg>;
        const ArrowLeft = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m12 19-7-7 7-7"/><path d="M19 12H5"/></svg>;
        const RefreshCw = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/><path d="M21 3v5h-5"/><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"/><path d="M8 16H3v5"/></svg>;
        const Check = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polyline points="20 6 9 17 4 12"/></svg>;
        const Timer = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>;
        const CheckCircleIcon = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>;
        const XCircleIcon = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"/><path d="m15 9-6 6"/><path d="m9 9 6 6"/></svg>;
        const Heart = ({ className, filled }) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill={filled ? "currentColor" : "none"} stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>;
        const ExternalLink = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>;

        // --- Data Source (Outside Component) ---
        const questionsSource = [
            {
            id: 1,
            topic: "Ø§Ù„Ø·Ø§Ù‚Ø© Ø§Ù„Ø­Ø±Ø§Ø±ÙŠØ©",
            scenario: "ÙŠÙ‚ÙˆÙ„ Ø¨Ø±Ù‡Ø§Ù†: 'Ø§Ù„Ø¬Ùˆ Ø­Ø§Ø± Ø¬Ø¯Ø§Ù‹ Ø§Ù„ÙŠÙˆÙ…! Ø³Ø£Ø±ØªØ¯ÙŠ Ù…Ø¹Ø·ÙØ§Ù‹ ØµÙˆÙÙŠØ§Ù‹ Ø£Ø³ÙˆØ¯Ø§Ù‹ Ù„ÙƒÙŠ ÙŠØ¹ÙƒØ³ Ø£Ø´Ø¹Ø© Ø§Ù„Ø´Ù…Ø³ ÙˆØ£Ø´Ø¹Ø± Ø¨Ø§Ù„Ø¨Ø±ÙˆØ¯Ø©.'",
            options: [
                { id: 'a', text: "ÙÙƒØ±Ø© Ø°ÙƒÙŠØ©! Ø§Ù„ØµÙˆÙ Ù…Ø§Ø¯Ø© Ø¨Ø§Ø±Ø¯Ø©.", correct: false },
                { id: 'b', text: "Ø®Ø·Ø£! Ø§Ù„Ø£Ø³ÙˆØ¯ ÙŠÙ…ØªØµ Ø§Ù„Ø­Ø±Ø§Ø±Ø© ÙˆØ§Ù„ØµÙˆÙ ÙŠØ­Ø¨Ø³ Ø­Ø±Ø§Ø±Ø© Ø§Ù„Ø¬Ø³Ù….", correct: true },
                { id: 'c', text: "ØµØ­ÙŠØ­ØŒ Ù„ÙƒÙ† ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø§Ù„Ù…Ø¹Ø·Ù Ù…Ø¨Ù„Ù„Ø§Ù‹.", correct: false }
            ],
            explanation: "Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø£Ø³ÙˆØ¯ ÙŠÙ…ØªØµ Ù…Ø¹Ø¸Ù… Ø£Ø·ÙŠØ§Ù Ø§Ù„Ø¶ÙˆØ¡ ÙˆÙŠØ­ÙˆÙ„Ù‡Ø§ Ù„Ø­Ø±Ø§Ø±Ø©ØŒ ÙˆØ§Ù„ØµÙˆÙ Ø¹Ø§Ø²Ù„ Ø­Ø±Ø§Ø±ÙŠ ÙŠØ­ÙØ¸ Ø­Ø±Ø§Ø±Ø© Ø§Ù„Ø¬Ø³Ù… ÙˆÙ„Ø§ ÙŠØ·Ø±Ø¯Ù‡Ø§."
            },
            {
            id: 2,
            topic: "Ø§Ù„Ø¶ÙˆØ¡ ÙˆØ§Ù„Ø¸Ù„Ø§Ù„",
            scenario: "ÙŠÙ‚ÙˆÙ„ Ø¨Ø±Ù‡Ø§Ù†: 'Ø§Ù†Ø¸Ø±! Ø¸Ù„ÙŠ ÙŠÙ‚Ø¹ Ø®Ù„ÙÙŠ ØªÙ…Ø§Ù…Ø§Ù‹ØŒ Ù‡Ø°Ø§ ÙŠØ¹Ù†ÙŠ Ø£Ù† Ø§Ù„Ø´Ù…Ø³ ØªÙ‚Ø¹ Ø®Ù„ÙÙŠ Ø£ÙŠØ¶Ø§Ù‹.'",
            options: [
                { id: 'a', text: "ØµØ­ÙŠØ­ØŒ Ø§Ù„Ø¸Ù„ ÙŠØªØ¨Ø¹ Ù…ØµØ¯Ø± Ø§Ù„Ø¶ÙˆØ¡.", correct: false },
                { id: 'b', text: "Ø®Ø·Ø£! Ø§Ù„Ø¸Ù„ ÙŠØªÙƒÙˆÙ† ÙÙŠ Ø§Ù„Ø¬Ù‡Ø© Ø§Ù„Ù…Ù‚Ø§Ø¨Ù„Ø© Ù„Ù…ØµØ¯Ø± Ø§Ù„Ø¶ÙˆØ¡.", correct: true },
                { id: 'c', text: "Ø§Ù„Ø¸Ù„ Ù„Ø§ Ø¹Ù„Ø§Ù‚Ø© Ù„Ù‡ Ø¨Ù…ÙƒØ§Ù† Ø§Ù„Ø´Ù…Ø³.", correct: false }
            ],
            explanation: "Ø§Ù„Ø¸Ù„ ÙŠØªÙƒÙˆÙ† Ø¹Ù†Ø¯Ù…Ø§ ÙŠØ­Ø¬Ø¨ Ø¬Ø³Ù… Ù…Ø¹ØªÙ… Ø§Ù„Ø¶ÙˆØ¡ØŒ ÙÙŠØ¸Ù‡Ø± Ø§Ù„Ø¸Ù„ Ø¯Ø§Ø¦Ù…Ø§Ù‹ ÙÙŠ Ø§Ù„Ø¬Ù‡Ø© Ø§Ù„Ù…Ø¹Ø§ÙƒØ³Ø© Ù„Ù…ØµØ¯Ø± Ø§Ù„Ø¶ÙˆØ¡."
            },
            {
            id: 3,
            topic: "Ø§Ù„Ù…ØºÙ†Ø§Ø·ÙŠØ³ÙŠØ©",
            scenario: "ÙŠØ­Ø§ÙˆÙ„ Ø¨Ø±Ù‡Ø§Ù† ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø­Ø¯ÙŠÙ‚Ø©: 'Ø³Ø£Ø³ØªØ®Ø¯Ù… Ù‡Ø°Ø§ Ø§Ù„Ù…ØºÙ†Ø§Ø·ÙŠØ³ Ø§Ù„Ø¹Ù…Ù„Ø§Ù‚ Ù„Ø¬Ù…Ø¹ ÙƒÙ„ Ø§Ù„Ø²Ø¬Ø§Ø¬Ø§Øª Ø§Ù„Ø¨Ù„Ø§Ø³ØªÙŠÙƒÙŠØ© Ø¨Ø³Ø±Ø¹Ø©!'",
            options: [
                { id: 'a', text: "Ù„Ù† ÙŠÙ†Ø¬Ø­ØŒ Ø§Ù„Ù…ØºÙ†Ø§Ø·ÙŠØ³ ÙŠØ¬Ø°Ø¨ Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„Ø­Ø¯ÙŠØ¯ÙŠØ© ÙÙ‚Ø·.", correct: true },
                { id: 'b', text: "Ø³ÙŠÙ†Ø¬Ø­ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…ØºÙ†Ø§Ø·ÙŠØ³ Ù‚ÙˆÙŠØ§Ù‹ Ø¬Ø¯Ø§Ù‹.", correct: false },
                { id: 'c', text: "Ø§Ù„Ù…ØºÙ†Ø§Ø·ÙŠØ³ ÙŠØ¬Ø°Ø¨ Ø§Ù„Ø²Ø¬Ø§Ø¬ ÙÙ‚Ø· ÙˆÙ„ÙŠØ³ Ø§Ù„Ø¨Ù„Ø§Ø³ØªÙŠÙƒ.", correct: false }
            ],
            explanation: "Ø§Ù„Ù…ØºÙ†Ø§Ø·ÙŠØ³ ÙŠØ¤Ø«Ø± ÙÙ‚Ø· Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„Ù…ØºÙ†Ø§Ø·ÙŠØ³ÙŠØ© Ù…Ø«Ù„ Ø§Ù„Ø­Ø¯ÙŠØ¯ ÙˆØ§Ù„Ù†ÙŠÙƒÙ„ ÙˆØ§Ù„ÙƒÙˆØ¨Ø§Ù„ØªØŒ ÙˆÙ„Ø§ ÙŠØ¬Ø°Ø¨ Ø§Ù„Ø¨Ù„Ø§Ø³ØªÙŠÙƒ Ø£Ùˆ Ø§Ù„Ø®Ø´Ø¨."
            },
            {
            id: 4,
            topic: "Ø­Ø§Ù„Ø§Øª Ø§Ù„Ù…Ø§Ø¯Ø©",
            scenario: "ÙˆØ¶Ø¹ Ø¨Ø±Ù‡Ø§Ù† ÙˆØ¹Ø§Ø¡ Ù…Ø§Ø¡ ÙÙŠ Ø§Ù„Ù…Ø¬Ù…Ø¯ ÙˆÙ‚Ø§Ù„: 'Ø³Ø£Ù†ØªØ¸Ø± Ù‚Ù„ÙŠÙ„Ø§Ù‹ Ø­ØªÙ‰ ÙŠØºÙ„ÙŠ Ø§Ù„Ù…Ø§Ø¡ ÙˆÙŠØªØ­ÙˆÙ„ Ø¥Ù„Ù‰ Ø¨Ø®Ø§Ø±!'",
            options: [
                { id: 'a', text: "ØµØ­ÙŠØ­ØŒ Ø§Ù„Ù…Ø¬Ù…Ø¯ ÙŠØºÙŠØ± Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø§Ø¯Ø©.", correct: false },
                { id: 'b', text: "Ø®Ø·Ø£! Ø§Ù„ØªØ¬Ù…ÙŠØ¯ ÙŠØ­ÙˆÙ„ Ø§Ù„Ø³Ø§Ø¦Ù„ Ø¥Ù„Ù‰ ØµÙ„Ø¨ (Ø¬Ù„ÙŠØ¯).", correct: true },
                { id: 'c', text: "Ø³ÙŠØªØ­ÙˆÙ„ Ø§Ù„Ù…Ø§Ø¡ Ø¥Ù„Ù‰ ØºØ§Ø² Ø¨Ø§Ø±Ø¯.", correct: false }
            ],
            explanation: "Ø®ÙØ¶ Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø±Ø§Ø±Ø© ÙÙŠ Ø§Ù„Ù…Ø¬Ù…Ø¯ ÙŠØ¤Ø¯ÙŠ Ø¥Ù„Ù‰ ØªØ¬Ù…Ø¯ Ø§Ù„Ù…Ø§Ø¡ ÙˆØªØ­ÙˆÙ„Ù‡ Ù„Ù„Ø­Ø§Ù„Ø© Ø§Ù„ØµÙ„Ø¨Ø©ØŒ Ø¨ÙŠÙ†Ù…Ø§ Ø§Ù„ØºÙ„ÙŠØ§Ù† ÙŠØ­ØªØ§Ø¬ Ù„Ø±ÙØ¹ Ø§Ù„Ø­Ø±Ø§Ø±Ø©."
            },
            {
            id: 5,
            topic: "Ø§Ø­ØªÙŠØ§Ø¬Ø§Øª Ø§Ù„Ù†Ø¨Ø§Øª",
            scenario: "ÙŠÙ‚ÙˆÙ„ Ø¨Ø±Ù‡Ø§Ù†: 'Ø³Ø£Ø³Ù‚ÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ù†Ø¨ØªØ© Ø¨Ù…Ø§Ø¡ Ø§Ù„Ø¨Ø­Ø± Ø§Ù„Ù…Ø§Ù„Ø­ Ù„ØªÙ†Ù…Ùˆ Ø¨Ø³Ø±Ø¹Ø© ÙˆØªØµØ¨Ø­ Ù‚ÙˆÙŠØ© Ù…Ø«Ù„ Ø£Ø³Ù…Ø§Ùƒ Ø§Ù„Ù‚Ø±Ø´!'",
            options: [
                { id: 'a', text: "ÙÙƒØ±Ø© Ù…Ù…ØªØ§Ø²Ø©ØŒ Ø§Ù„Ù…Ù„Ø­ Ù…ÙÙŠØ¯ Ù„Ù„Ù†Ø¨Ø§Øª.", correct: false },
                { id: 'b', text: "Ø§Ù„Ù…Ø§Ø¡ Ø§Ù„Ù…Ø§Ù„Ø­ ÙŠÙ‚ØªÙ„ Ù…Ø¹Ø¸Ù… Ø§Ù„Ù†Ø¨Ø§ØªØ§Øª Ù„Ø£Ù†Ù‡ ÙŠÙ…ØªØµ Ø§Ù„Ù…Ø§Ø¡ Ù…Ù†Ù‡Ø§.", correct: true },
                { id: 'c', text: "Ø§Ù„Ù†Ø¨Ø§ØªØ§Øª Ù„Ø§ ØªØ­ØªØ§Ø¬ Ù„Ù„Ù…Ø§Ø¡ Ø£ØµÙ„Ø§Ù‹.", correct: false }
            ],
            explanation: "Ø§Ù„Ù…Ø§Ø¡ Ø§Ù„Ù…Ø§Ù„Ø­ Ø¶Ø§Ø± Ù„Ù…Ø¹Ø¸Ù… Ø§Ù„Ù†Ø¨Ø§ØªØ§Øª (Ø¥Ù„Ø§ Ø£Ù†ÙˆØ§Ø¹ Ø®Ø§ØµØ©) Ù„Ø£Ù†Ù‡ ÙŠØ³Ø¨Ø¨ Ø§Ù„Ø¬ÙØ§Ù Ù„Ù„Ù†Ø¨Ø§Øª Ø¹Ø¨Ø± Ø§Ù„Ø®Ø§ØµÙŠØ© Ø§Ù„Ø§Ø³Ù…ÙˆØ²ÙŠØ©."
            },
            {
            id: 6,
            topic: "Ø§Ù„ØµÙˆØª ÙˆØ§Ù„ÙØ±Ø§Øº",
            scenario: "Ø¨Ø±Ù‡Ø§Ù† ÙÙŠ Ø§Ù„ÙØ¶Ø§Ø¡ Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠ ÙŠØµØ±Ø® Ù„Ø²Ù…ÙŠÙ„Ù‡ Ø§Ù„Ø±ÙˆØ¨ÙˆØª Ø§Ù„Ø¨Ø¹ÙŠØ¯: 'ÙŠØ§ ØµØ¯ÙŠÙ‚ÙŠØŒ Ù‡Ù„ ØªØ³Ù…Ø¹Ù†ÙŠØŸ' Ø¯ÙˆÙ† Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¬Ù‡Ø§Ø² Ù„Ø§Ø³Ù„ÙƒÙŠ.",
            options: [
                { id: 'a', text: "Ø³ÙŠØ³Ù…Ø¹Ù‡ Ø¨ÙˆØ¶ÙˆØ­ Ù„Ø£Ù† Ø§Ù„ÙØ¶Ø§Ø¡ Ù‡Ø§Ø¯Ø¦ Ø¬Ø¯Ø§Ù‹.", correct: false },
                { id: 'b', text: "Ù„Ù† ÙŠØ³Ù…Ø¹Ù‡ Ù„Ø£Ù† Ø§Ù„ØµÙˆØª Ù„Ø§ ÙŠÙ†ØªÙ‚Ù„ ÙÙŠ Ø§Ù„ÙØ±Ø§Øº.", correct: true },
                { id: 'c', text: "Ø³ÙŠØµÙ„ Ø§Ù„ØµÙˆØª Ù„ÙƒÙ†Ù‡ Ø³ÙŠÙƒÙˆÙ† Ø¨Ø·ÙŠØ¦Ø§Ù‹.", correct: false }
            ],
            explanation: "Ø§Ù„ØµÙˆØª Ø¹Ø¨Ø§Ø±Ø© Ø¹Ù† Ù…ÙˆØ¬Ø§Øª Ù…ÙŠÙƒØ§Ù†ÙŠÙƒÙŠØ© ØªØ­ØªØ§Ø¬ Ù„ÙˆØ³Ø· Ù…Ø§Ø¯ÙŠ (Ù‡ÙˆØ§Ø¡ØŒ Ø³Ø§Ø¦Ù„ØŒ ØµÙ„Ø¨) Ù„ØªÙ†ØªÙ‚Ù„ØŒ ÙˆØ§Ù„ÙØ¶Ø§Ø¡ ÙØ±Ø§Øº ØªØ§Ù…."
            },
            {
            id: 7,
            topic: "Ø§Ù„Ù‚ÙˆÙ‰ ÙˆØ§Ù„Ø§Ø­ØªÙƒØ§Ùƒ",
            scenario: "ÙŠÙ‚ÙˆÙ„ Ø¨Ø±Ù‡Ø§Ù†: 'Ø³Ø£Ø¶Ø¹ Ø§Ù„Ø²ÙŠØª Ø¹Ù„Ù‰ Ø­Ø°Ø§Ø¦ÙŠ Ù„Ø£Ø¬Ø±ÙŠ Ø¨Ø´ÙƒÙ„ Ø£Ø³Ø±Ø¹ ÙÙŠ Ø§Ù„Ø³Ø¨Ø§Ù‚!'",
            options: [
                { id: 'a', text: "ÙÙƒØ±Ø© Ø±Ø§Ø¦Ø¹Ø© Ù„ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ø¬Ù‡Ø¯.", correct: false },
                { id: 'b', text: "Ø®Ø·Ø£! Ø§Ù„Ø²ÙŠØª ÙŠÙ‚Ù„Ù„ Ø§Ù„Ø§Ø­ØªÙƒØ§Ùƒ Ù…Ù…Ø§ ÙŠØ¬Ø¹Ù„Ù‡ ÙŠÙ†Ø²Ù„Ù‚ ÙˆÙŠØ³Ù‚Ø·.", correct: true },
                { id: 'c', text: "Ø§Ù„Ø²ÙŠØª Ø³ÙŠØ¬Ø¹Ù„ Ø§Ù„Ø­Ø°Ø§Ø¡ Ø£Ø«Ù‚Ù„ ÙˆØ²Ù†Ø§Ù‹.", correct: false }
            ],
            explanation: "Ù†Ø­ØªØ§Ø¬ Ù„Ù‚ÙˆØ© Ø§Ù„Ø§Ø­ØªÙƒØ§Ùƒ Ø¨ÙŠÙ† Ø§Ù„Ø­Ø°Ø§Ø¡ ÙˆØ§Ù„Ø£Ø±Ø¶ Ù„ÙƒÙŠ Ù†ØªÙ…ÙƒÙ† Ù…Ù† Ø§Ù„Ø¯ÙØ¹ ÙˆØ§Ù„Ù…Ø´ÙŠ Ø£Ùˆ Ø§Ù„Ø¬Ø±ÙŠØ› Ø§Ù„Ø²ÙŠØª ÙŠÙ‚Ù„Ù„ Ø§Ù„Ø§Ø­ØªÙƒØ§Ùƒ ÙˆÙŠØ³Ø¨Ø¨ Ø§Ù„Ø§Ù†Ø²Ù„Ø§Ù‚."
            },
            {
            id: 8,
            topic: "Ø§Ù„ØªØºÙŠØ±Ø§Øª Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠØ©",
            scenario: "ØºØ³Ù„ Ø¨Ø±Ù‡Ø§Ù† Ø¯Ø±Ø§Ø¬ØªÙ‡ Ø§Ù„Ø­Ø¯ÙŠØ¯ÙŠØ© ÙˆØªØ±ÙƒÙ‡Ø§ Ù…Ø¨Ù„Ù„Ø© ÙÙŠ Ø§Ù„Ù‡ÙˆØ§Ø¡ Ø§Ù„Ø·Ù„Ù‚ ÙˆÙ‚Ø§Ù„: 'Ø§Ù„Ø¢Ù† Ø³ØªØµØ¨Ø­ Ø£Ù†Ø¸Ù ÙˆØ£Ù‚ÙˆÙ‰!'",
            options: [
                { id: 'a', text: "ØµØ­ÙŠØ­ØŒ Ø§Ù„Ù…Ø§Ø¡ ÙŠÙ‚ÙˆÙŠ Ø§Ù„Ø­Ø¯ÙŠØ¯.", correct: false },
                { id: 'b', text: "Ø®Ø·Ø£! Ø§Ù„Ø±Ø·ÙˆØ¨Ø© ÙˆØ§Ù„Ø£ÙƒØ³Ø¬ÙŠÙ† ÙŠØ³Ø¨Ø¨Ø§Ù† ØµØ¯Ø£ Ø§Ù„Ø­Ø¯ÙŠØ¯ ÙˆØªØ¢ÙƒÙ„Ù‡.", correct: true },
                { id: 'c', text: "Ø§Ù„Ø­Ø¯ÙŠØ¯ Ø³ÙŠØªØ­ÙˆÙ„ Ø¥Ù„Ù‰ ÙÙˆÙ„Ø§Ø°.", correct: false }
            ],
            explanation: "ØªØ¹Ø±Ø¶ Ø§Ù„Ø­Ø¯ÙŠØ¯ Ù„Ù„Ù…Ø§Ø¡ ÙˆØ§Ù„Ø£ÙƒØ³Ø¬ÙŠÙ† ÙŠØ³Ø¨Ø¨ ØªÙØ§Ø¹Ù„Ø§Ù‹ ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠØ§Ù‹ ÙŠÙ†ØªØ¬ Ø¹Ù†Ù‡ Ø£ÙƒØ³ÙŠØ¯ Ø§Ù„Ø­Ø¯ÙŠØ¯ (Ø§Ù„ØµØ¯Ø£)ØŒ Ù…Ù…Ø§ ÙŠØ¶Ø¹Ù Ø§Ù„Ù…Ø§Ø¯Ø©."
            },
            {
            id: 9,
            topic: "Ø¯ÙˆØ±Ø§Ù† Ø§Ù„Ø£Ø±Ø¶",
            scenario: "ÙŠØ´Ø§Ù‡Ø¯ Ø¨Ø±Ù‡Ø§Ù† Ø§Ù„ØºØ±ÙˆØ¨ ÙˆÙŠÙ‚ÙˆÙ„: 'Ø§Ù†Ø¸Ø± ÙƒÙŠÙ ØªØªØ­Ø±Ùƒ Ø§Ù„Ø´Ù…Ø³ ÙˆØªØºÙˆØµ ÙÙŠ Ø§Ù„Ø¨Ø­Ø± Ù„ØªÙ†Ø§Ù…!'",
            options: [
                { id: 'a', text: "ÙˆØµÙ Ø´Ø§Ø¹Ø±ÙŠ ÙˆØµØ­ÙŠØ­ Ø¹Ù„Ù…ÙŠØ§Ù‹.", correct: false },
                { id: 'b', text: "Ø§Ù„Ø´Ù…Ø³ Ù„Ø§ ØªØªØ­Ø±ÙƒØŒ Ø§Ù„Ø£Ø±Ø¶ Ù‡ÙŠ Ø§Ù„ØªÙŠ ØªØ¯ÙˆØ± Ø­ÙˆÙ„ Ù†ÙØ³Ù‡Ø§.", correct: true },
                { id: 'c', text: "Ø§Ù„Ø´Ù…Ø³ ØªÙ†Ø·ÙØ¦ ÙÙŠ Ø§Ù„Ù„ÙŠÙ„.", correct: false }
            ],
            explanation: "ØªØ¹Ø§Ù‚Ø¨ Ø§Ù„Ù„ÙŠÙ„ ÙˆØ§Ù„Ù†Ù‡Ø§Ø± ÙŠØ­Ø¯Ø« Ø¨Ø³Ø¨Ø¨ Ø¯ÙˆØ±Ø§Ù† Ø§Ù„Ø£Ø±Ø¶ Ø­ÙˆÙ„ Ù…Ø­ÙˆØ±Ù‡Ø§ Ø£Ù…Ø§Ù… Ø§Ù„Ø´Ù…Ø³ØŒ ÙˆÙ„ÙŠØ³ Ø¨Ø³Ø¨Ø¨ Ø­Ø±ÙƒØ© Ø§Ù„Ø´Ù…Ø³ Ø­ÙˆÙ„ Ø§Ù„Ø£Ø±Ø¶."
            },
            {
            id: 10,
            topic: "Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø¨ÙŠØ¦ÙŠ",
            scenario: "ÙŠÙ‚ÙˆÙ„ Ø¨Ø±Ù‡Ø§Ù†: 'Ø³Ø£Ù‚Ø¶ÙŠ Ø¹Ù„Ù‰ ÙƒÙ„ Ø§Ù„Ø¨ÙƒØªÙŠØ±ÙŠØ§ ÙˆØ§Ù„ÙØ·Ø±ÙŠØ§Øª ÙÙŠ Ø§Ù„ØºØ§Ø¨Ø© Ù„ØªØµØ¨Ø­ Ù†Ø¸ÙŠÙØ© ØªÙ…Ø§Ù…Ø§Ù‹!'",
            options: [
                { id: 'a', text: "Ù‡Ø°Ø§ Ø³ÙŠØ­Ù…ÙŠ Ø§Ù„Ø­ÙŠÙˆØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ø£Ù…Ø±Ø§Ø¶.", correct: false },
                { id: 'b', text: "ÙƒØ§Ø±Ø«Ø©! Ø§Ù„Ù…Ø­Ù„Ù„Ø§Øª Ø¶Ø±ÙˆØ±ÙŠØ© Ù„Ø¥Ø¹Ø§Ø¯Ø© ØªØ¯ÙˆÙŠØ± Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„ØºØ°Ø§Ø¦ÙŠØ© Ù„Ù„ØªØ±Ø¨Ø©.", correct: true },
                { id: 'c', text: "Ù„Ø§ ÙØ§Ø¦Ø¯Ø© Ù…Ù†Ù‡Ø§ØŒ ÙÙ‡ÙŠ Ù…Ø¬Ø±Ø¯ ÙƒØ§Ø¦Ù†Ø§Øª ØµØºÙŠØ±Ø©.", correct: false }
            ],
            explanation: "Ø§Ù„Ø¨ÙƒØªÙŠØ±ÙŠØ§ ÙˆØ§Ù„ÙØ·Ø±ÙŠØ§Øª (Ø§Ù„Ù…Ø­Ù„Ù„Ø§Øª) ØªÙ‚ÙˆÙ… Ø¨ØªØ­Ù„ÙŠÙ„ Ø§Ù„ÙƒØ§Ø¦Ù†Ø§Øª Ø§Ù„Ù…ÙŠØªØ© ÙˆØªØ¹ÙŠØ¯ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„ØºØ°Ø§Ø¦ÙŠØ© Ù„Ù„ØªØ±Ø¨Ø© Ù„ØªÙ…ØªØµÙ‡Ø§ Ø§Ù„Ù†Ø¨Ø§ØªØ§Øª Ù…Ø¬Ø¯Ø¯Ø§Ù‹."
            }
        ];

        // --- Shuffle Utility Function ---
        const shuffleArray = (array) => {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        };

        const REWARD_URL = "https://talented-nation.github.io/database/reward1.html";

        const App = () => {
            const [gameQuestions, setGameQuestions] = useState([]);
            const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);
            const [score, setScore] = useState(0);
            const [showResult, setShowResult] = useState(false);
            const [feedback, setFeedback] = useState(null); 
            const [isAnswered, setIsAnswered] = useState(false);
            const [gameStarted, setGameStarted] = useState(false);
            const [timeLeft, setTimeLeft] = useState(20);
            const [lives, setLives] = useState(3);
            const [gameStartTime, setGameStartTime] = useState(null);
            const [finalTime, setFinalTime] = useState(null);

            // Function to start/restart game with shuffled questions
            const handleStartGame = () => {
                const randomizedQuestions = questionsSource.map(q => ({
                    ...q,
                    options: shuffleArray(q.options)
                }));
                
                setGameQuestions(randomizedQuestions);
                setScore(0);
                setCurrentQuestionIndex(0);
                setShowResult(false);
                setIsAnswered(false);
                setTimeLeft(20);
                setLives(3);
                setGameStartTime(Date.now());
                setFinalTime(null);
                setGameStarted(true);
            };

            // --- Timer Logic ---
            useEffect(() => {
                let timer;
                if (gameStarted && !isAnswered && !showResult && timeLeft > 0) {
                timer = setInterval(() => {
                    setTimeLeft((prev) => prev - 1);
                }, 1000);
                } else if (timeLeft === 0 && !isAnswered) {
                handleTimeUp();
                }
                return () => clearInterval(timer);
            }, [gameStarted, isAnswered, showResult, timeLeft]);

            // --- Redirect Logic (Reward) ---
            useEffect(() => {
                if (showResult && lives > 0) {
                    const timer = setTimeout(() => {
                        window.location.href = REWARD_URL;
                    }, 4000); // 4 seconds delay to read message
                    return () => clearTimeout(timer);
                }
            }, [showResult, lives]);

            // --- Helper Functions ---

            const handleTimeUp = () => {
                setIsAnswered(true);
                setLives(prev => Math.max(0, prev - 1));
                setFeedback({ type: 'timeout', message: 'Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª! â°' });
            };

            const handleAnswer = (isCorrect) => {
                setIsAnswered(true);
                if (isCorrect) {
                setScore(score + 10);
                setFeedback({ type: 'success', message: 'ØªÙÙƒÙŠØ± Ø¹Ù„Ù…ÙŠ Ù…Ù…ØªØ§Ø²! Ø£Ø­Ø³Ù†Øª ğŸŒŸ' });
                } else {
                setLives(prev => Math.max(0, prev - 1));
                setFeedback({ type: 'error', message: 'Ø¥Ø¬Ø§Ø¨Ø© ØºÙŠØ± Ø¯Ù‚ÙŠÙ‚Ø©ØŒ Ø§Ù‚Ø±Ø£ Ø§Ù„ØªÙØ³ÙŠØ± ğŸ‘‡' });
                }
            };

            const nextQuestion = () => {
                setFeedback(null);
                setIsAnswered(false);
                
                // If lives reached 0, end the game immediately instead of going next
                if (lives === 0) {
                    setShowResult(true);
                    return;
                }

                setTimeLeft(20);
                if (currentQuestionIndex < gameQuestions.length - 1) {
                    setCurrentQuestionIndex(currentQuestionIndex + 1);
                } else {
                    // Win condition logic
                    setFinalTime(Date.now() - gameStartTime);
                    setShowResult(true);
                }
            };

            // --- UI Components ---

            const ProgressBar = () => (
                <div className="w-full bg-slate-200 h-2 mb-6 fixed top-0 left-0 z-50">
                <div 
                    className="bg-purple-600 h-2 transition-all duration-500" 
                    style={{ width: `${((currentQuestionIndex + 1) / gameQuestions.length) * 100}%` }}
                ></div>
                </div>
            );

            // --- Reward Popup Modal ---
            const RewardPopup = () => (
                <div className="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-[60] animate-in fade-in">
                    <div className="bg-white rounded-3xl p-8 max-w-sm w-full text-center relative border-4 border-yellow-400 shadow-2xl transform scale-100">
                         <div className="absolute -top-10 left-1/2 transform -translate-x-1/2 bg-yellow-400 rounded-full p-4 border-4 border-white">
                             <Trophy className="w-12 h-12 text-white animate-bounce" />
                         </div>
                         <h2 className="text-2xl font-black text-slate-800 mt-8 mb-2">Ù…Ø¨Ø±ÙˆÙƒ Ø§Ù„ÙÙˆØ²! ğŸ†</h2>
                         <p className="text-slate-600 mb-6">Ø¬Ø§Ø±ÙŠ Ù†Ù‚Ù„Ùƒ Ù„Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ø¬Ø§Ø¦Ø²Ø©...</p>
                         <div className="flex justify-center mb-4">
                             <div className="animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"></div>
                         </div>
                         <a 
                            href={REWARD_URL}
                            className="inline-flex items-center gap-2 bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-6 rounded-full transition-all shadow-md text-sm"
                         >
                            <span>Ø§Ù„Ø°Ù‡Ø§Ø¨ Ù„Ù„Ø¬Ø§Ø¦Ø²Ø© Ø§Ù„Ø¢Ù†</span>
                            <ExternalLink className="w-4 h-4" />
                         </a>
                    </div>
                </div>
            );

            if (!gameStarted) {
                return (
                <div className="min-h-screen font-sans text-right flex flex-col items-center justify-center p-4" dir="rtl">
                    <div className="bg-white rounded-3xl shadow-2xl p-8 max-w-md w-full text-center border-b-8 border-purple-600">
                    <div className="bg-purple-100 w-24 h-24 rounded-full flex items-center justify-center mx-auto mb-6 animate-bounce">
                        <Brain className="w-12 h-12 text-purple-600" />
                    </div>
                    <h1 className="text-3xl font-black text-slate-800 mb-2">Ø§Ù„Ù…Ø­Ù‚Ù‚ Ø§Ù„Ø¹Ù„Ù…ÙŠ ğŸ•µï¸â€â™‚ï¸</h1>
                    <p className="text-slate-600 mb-8 leading-relaxed text-lg">
                        Ø§Ù„Ø±ÙˆØ¨ÙˆØª "Ø¨Ø±Ù‡Ø§Ù†" Ù„Ø¯ÙŠÙ‡ 10 Ù‚Ø¶Ø§ÙŠØ§ Ø¹Ù„Ù…ÙŠØ© ØªØ­ØªØ§Ø¬ Ù„Ø­Ù„.<br/>
                        Ù„Ø¯ÙŠÙƒ 20 Ø«Ø§Ù†ÙŠØ© Ùˆ 3 Ù…Ø­Ø§ÙˆÙ„Ø§Øª â¤ï¸ ÙÙ‚Ø·!
                    </p>
                    <button 
                        onClick={handleStartGame}
                        className="w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-4 rounded-xl flex items-center justify-center gap-2 transition-all transform hover:scale-105 shadow-lg text-lg"
                    >
                        <Play className="w-6 h-6" />
                        Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªØ­Ù‚ÙŠÙ‚
                    </button>
                    </div>
                </div>
                );
            }

            if (showResult) {
                return (
                <div className="min-h-screen font-sans text-right flex flex-col items-center justify-center p-4 relative" dir="rtl">
                    
                    {/* Render Popup if Won (Lives > 0) */}
                    {lives > 0 && <RewardPopup />}

                    <div className="bg-white rounded-3xl shadow-xl p-8 max-w-md w-full text-center animate-in zoom-in duration-500">
                    <div className="inline-block p-6 bg-yellow-100 rounded-full mb-6 relative">
                        <Trophy className="w-16 h-16 text-yellow-600" />
                        {score === 100 && <div className="absolute -top-2 -right-2 text-4xl animate-bounce">ğŸŒŸ</div>}
                    </div>
                    <h2 className="text-3xl font-bold text-slate-800 mb-2">
                        {lives === 0 ? "Ù†ÙØ¯Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª! ğŸ’”" : score >= 80 ? "Ù…Ø­Ù‚Ù‚ Ø¹Ø¨Ù‚Ø±ÙŠ!" : score >= 50 ? "Ù…Ø¬Ù‡ÙˆØ¯ Ø±Ø§Ø¦Ø¹!" : "Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰"}
                    </h2>
                    <p className="text-slate-600 mb-6">Ù„Ù‚Ø¯ Ø£Ù†Ù‡ÙŠØª Ø§Ù„ØªØ­Ù‚ÙŠÙ‚ Ø¨Ù†ØªÙŠØ¬Ø©:</p>
                    
                    <div className="bg-purple-50 p-6 rounded-2xl mb-8 border border-purple-100">
                        <span className="block text-sm text-purple-500 font-bold mb-1">Ù†ØªÙŠØ¬ØªÙƒ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©</span>
                        <span className="text-6xl font-black text-purple-700">{score}</span>
                        <span className="text-purple-400 text-xl font-bold">/100</span>
                    </div>

                    {/* Time Display (Only if Won/Finished) */}
                    {lives > 0 && finalTime && (
                        <div className="bg-blue-50 p-4 rounded-xl mb-6 border border-blue-100 animate-in fade-in">
                            <span className="block text-sm text-blue-500 font-bold mb-1">ÙˆÙ‚Øª Ø§Ù„Ø¥Ù†Ø¬Ø§Ø² â±ï¸</span>
                            <span className="text-2xl font-black text-blue-700">
                                {Math.floor(finalTime / 60000)}:{String(Math.floor((finalTime % 60000) / 1000)).padStart(2, '0')}
                            </span>
                        </div>
                    )}

                    </div>
                </div>
                );
            }

            const currentQ = gameQuestions[currentQuestionIndex];
            const timerColor = timeLeft < 10 ? 'text-red-600 animate-pulse' : 'text-slate-600';

            return (
                <div className="min-h-screen font-sans text-right pb-10" dir="rtl">
                <ProgressBar />
                
                {/* Header */}
                <header className="bg-white p-4 shadow-sm sticky top-0 z-40">
                    <div className="max-w-md mx-auto flex justify-between items-center">
                    <div className="flex items-center gap-2 text-purple-700">
                        <FlaskConical className="w-6 h-6" />
                        <span className="font-bold hidden sm:inline">Ø§Ù„Ù‚Ø¶ÙŠØ© {currentQuestionIndex + 1} Ù…Ù† {gameQuestions.length}</span>
                        <span className="font-bold sm:hidden">{currentQuestionIndex + 1}/{gameQuestions.length}</span>
                    </div>
                    
                    {/* Timer & Lives Display */}
                    <div className="flex items-center gap-3">
                        {/* Lives */}
                        <div className="flex text-red-500 gap-1">
                            {[...Array(3)].map((_, i) => (
                                <Heart key={i} className={`w-6 h-6 transition-all duration-300 ${i < lives ? 'fill-current scale-100' : 'text-slate-300 scale-75'}`} filled={i < lives} />
                            ))}
                        </div>

                        {/* Timer */}
                        <div className={`flex items-center gap-1 font-mono text-xl font-bold ${timerColor} border-2 border-slate-100 px-2 py-1 rounded-lg`}>
                            <Timer className="w-5 h-5" />
                            <span>00:{timeLeft < 10 ? `0${timeLeft}` : timeLeft}</span>
                        </div>
                    </div>

                    <div className="bg-purple-100 text-purple-800 px-3 py-1 rounded-full font-bold text-sm hidden sm:block">
                        {score} Ù†Ù‚Ø·Ø©
                    </div>
                    </div>
                </header>

                <main className="max-w-md mx-auto p-4 mt-2">
                    
                    {/* Scenario Card */}
                    <div className="bg-white rounded-2xl shadow-lg border border-purple-100 overflow-hidden mb-6 animate-in slide-in-from-bottom-4 duration-500">
                    <div className="bg-purple-50 px-4 py-2 border-b border-purple-100 flex justify-between items-center">
                        <span className="text-xs font-bold text-purple-600 bg-white px-2 py-1 rounded-md border border-purple-200">{currentQ.topic}</span>
                        <span className="text-xs text-slate-400">Ù…Ù„Ù Ø¨Ø±Ù‡Ø§Ù† ğŸ“</span>
                    </div>
                    
                    <div className="p-6">
                        <div className="flex items-start gap-4">
                        <div className="text-5xl shrink-0 bg-slate-100 rounded-full w-16 h-16 flex items-center justify-center border-2 border-slate-200">ğŸ¤–</div>
                        <div className="bg-slate-50 p-4 rounded-2xl rounded-tr-none border border-slate-200 relative w-full">
                            <p className="text-lg text-slate-700 font-medium leading-relaxed">
                            {currentQ.scenario}
                            </p>
                        </div>
                        </div>
                    </div>
                    </div>

                    <h3 className="font-bold text-slate-800 mb-4 pr-2">Ø£ÙŠÙ† Ø§Ù„Ø®Ø·Ø£ ÙÙŠ ÙƒÙ„Ø§Ù… Ø¨Ø±Ù‡Ø§Ù†ØŸ</h3>

                    {/* Options */}
                    <div className="space-y-3 mb-6">
                    {currentQ.options.map((opt) => {
                        let btnClass = "w-full text-right bg-white p-4 rounded-xl border-2 border-slate-100 shadow-sm transition-all ";
                        
                        if (isAnswered) {
                        if (opt.correct) btnClass += "border-green-500 bg-green-50 ring-2 ring-green-200 ";
                        else if (feedback?.type === 'timeout') btnClass += "opacity-50 grayscale ";
                        else btnClass += "opacity-50 grayscale ";
                        } else {
                        btnClass += "hover:border-purple-400 hover:shadow-md active:scale-98 cursor-pointer";
                        }

                        return (
                        <button 
                            key={opt.id}
                            onClick={() => !isAnswered && handleAnswer(opt.correct)}
                            disabled={isAnswered}
                            className={btnClass}
                        >
                            <div className="flex items-center justify-between">
                            <span>{opt.text}</span>
                            {isAnswered && opt.correct && <Check className="text-green-600 w-5 h-5" />}
                            {isAnswered && !opt.correct && <span className="w-5"></span>}
                            </div>
                        </button>
                        );
                    })}
                    </div>

                    {/* Feedback & Explanation Area */}
                    {isAnswered && (
                    <div className="animate-in fade-in zoom-in duration-300">
                        {/* Feedback Toast Style */}
                        <div className={`p-4 rounded-xl mb-4 flex items-center gap-3 ${
                        feedback.type === 'success' ? 'bg-green-100 text-green-800' : 
                        feedback.type === 'timeout' ? 'bg-orange-100 text-orange-800' :
                        'bg-red-100 text-red-800'
                        }`}>
                        {feedback.type === 'success' ? <CheckCircleIcon className="w-6 h-6" /> : feedback.type === 'timeout' ? <Timer className="w-6 h-6"/> : <XCircleIcon className="w-6 h-6" />}
                        <span className="font-bold">{feedback.message}</span>
                        </div>

                        {/* Scientific Explanation */}
                        <div className="bg-blue-50 border-r-4 border-blue-500 p-4 rounded-lg mb-6">
                        <h4 className="font-bold text-blue-800 mb-1 text-sm">ğŸ’¡ Ø§Ù„Ø­Ù‚ÙŠÙ‚Ø© Ø§Ù„Ø¹Ù„Ù…ÙŠØ©:</h4>
                        <p className="text-blue-900 text-sm leading-relaxed">
                            {currentQ.explanation}
                        </p>
                        </div>

                        {/* Next Button */}
                        <button 
                        onClick={nextQuestion}
                        className="w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-4 rounded-xl shadow-lg transition-all flex items-center justify-center gap-2 animate-bounce-short"
                        >
                        {lives === 0 ? "Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ (Game Over)" : currentQuestionIndex < gameQuestions.length - 1 ? "Ø§Ù„Ù‚Ø¶ÙŠØ© Ø§Ù„ØªØ§Ù„ÙŠØ©" : "Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬"}
                        <ArrowLeft className="w-5 h-5" />
                        </button>
                    </div>
                    )}

                </main>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>